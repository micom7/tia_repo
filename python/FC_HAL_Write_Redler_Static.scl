// ==============================================================================
// FC_HAL_Write_Redler_Static
// HAL Write Phase: Запис виходів з SafeMode
//
// Згенеровано автоматично: 2026-01-13 16:47:15
// Джерело: IO_Config.xlsx
// Механізмів: 2
// ==============================================================================

FUNCTION "FC_HAL_Write_Redler_Static" : VOID
{ S7_Optimized_Access := 'TRUE' }

VAR_INPUT
    SafeMode : BOOL := FALSE;  // TRUE = всі виходи OFF (аварійна зупинка)
END_VAR

VAR_IN_OUT
    Redler : ARRAY[*] OF "UDT_Redler";
END_VAR

VAR_TEMP
    // Прямий доступ до виходів через AT

    // [0] Redler_Intake_1 (Slot 0)
    R0_Run AT %Q0.0 : BOOL;
    R0_Cmd : BOOL;  // проміжна команда

    // [1] Redler_Tower_B2 (Slot 1)
    R1_Run AT %Q0.1 : BOOL;
    R1_Cmd : BOOL;  // проміжна команда

END_VAR

BEGIN
    // ==========================================================================
    // ЗАПИС ВИХОДІВ З SAFEGUARD
    // ==========================================================================

    // --------------------------------------------------------------------------
    // [0] Redler_Intake_1 (Slot 0)
    // Прийом зерна
    // --------------------------------------------------------------------------
    R0_Cmd := Redler[0].DO_Run AND NOT SafeMode;
    R0_Run := R0_Cmd;

    // --------------------------------------------------------------------------
    // [1] Redler_Tower_B2 (Slot 1)
    // Вежа Б2
    // --------------------------------------------------------------------------
    R1_Cmd := Redler[1].DO_Run AND NOT SafeMode;
    R1_Run := R1_Cmd;

END_FUNCTION